<style>
    .overlayLanguage {
        cursor: pointer;
    }    
</style>

<nav class="main-header navbar navbar-expand navbar-white navbar-light">
    <!-- Left navbar links -->
    <ul class="navbar-nav">
        <li class="nav-item">
            <a class="nav-link" data-widget="pushmenu" href="#" role="button"><i class="fas fa-bars"></i></a>
        </li>

        <li class="nav-item">
            <a onclick="chooseLanguage('en'); return false;"   class="nav-link" role="button">
                <img alt="Language: English" src="img\icon-english.png" width="30" height="30" class="overlayLanguage">
            </a>
          
        </li>
        <li class="nav-item">
            <a alt="Language: Việt Nam" onclick="chooseLanguage('vn'); return false;" class="nav-link" role="button">
                <img alt="Language: Việt Nam" src="img\icon-vietnam.png" width="30" height="30" class="overlayLanguage">
            </a>           
         </li>

    </ul>
<script>
    function chooseLanguage(selectedLanguage){  
        let configs = getCookie('configs');
        // console.log(cookieConfigs);
        // let configs = {}
        configs["language"]  =  selectedLanguage;  
        let strConfigs  = JSON.stringify(configs);

        document.cookie = "configs="+strConfigs+"; expires=Thu, 18 Dec 3033 12:00:00 UTC; path=/";
        window.location.reload(true);
    }

    function getCookie(cname) {
        let name = cname + "=";
        let decodedCookie = decodeURIComponent(document.cookie);
        let ca = decodedCookie.split(';');
        for(let i = 0; i <ca.length; i++) {
            let c = ca[i];
            while (c.charAt(0) == ' ') {
            c = c.substring(1);
            }
            if (c.indexOf(name) == 0) {
                let str = c.substring(name.length, c.length);
            return JSON.parse(str);
            }
        }
        return "";
    }

</script>
    <!-- Right navbar links -->
    <ul class="navbar-nav ml-auto">
        <li class="nav-item dropdown user-menu">
            <a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown">
                <% if((typeof userInfo !=='undefined' ) && userInfo) {%>
                    <img src="<%=systemConfig.prefixUrl%>uploads/sys_users/<%= userInfo.avatar %>"
                        class="user-image img-circle elevation-" alt="User Image">
                    <span class="d-none d-md-inline">
                        <%= userInfo.firstname %>
                            <%= userInfo.lastname %>
                    </span>
                    <%}%>
            </a>
            <ul class="dropdown-menu dropdown-menu-lg dropdown-menu-right" style="z-index: -100">
                <!-- User image -->
                <li class="user-header bg-info">
                    <% if((typeof userInfo !=='undefined' ) && userInfo) {%>
                        <img src="<%=systemConfig.prefixUrl%>uploads/sys_users/<%= userInfo.avatar %>"
                            class="img-circle elevation-2" alt="User Image">
                        <p>
                            <%= userInfo.firstname %>
                                <%= userInfo.lastname %>
                        </p>
                        <%}%>

                            <!--<p>ZendVN <small>admin</small></p>-->
                </li>
                <!-- Menu Footer-->
                <li class="user-footer" style="z-index: -99999">
                    <button type="button" onclick="window.location.href='<%= systemConfig.prefixAdmin %>/profile';"
                        class="btn btn-primary"> Profile
                    </button>

                    <button type="button" onclick="window.location.href='<%= systemConfig.prefixAdmin %>/auth/logout';"
                        class="float-right btn btn-danger"> Sign out
                    </button>
                    <!-- <a href="<%= systemConfig.prefixAdmin %>" class="btn btn-primary">Profile</a>

                    <a href="<%= systemConfig.prefixAdmin %>/auth/logout"
                        class="btn btn-default btn-flat float-right">Sign out</a> -->
                </li>
            </ul>
        </li>
    </ul>
</nav>